#
# This docker-compose file defines a shared test environment utilized by all modules.
# Any changes made to this file should be propagated to class BaseIntegrationTest.
#

# https://hub.docker.com/_/postgres
postgresql:
  image: postgres:16.1
  environment:
    POSTGRES_HOST_AUTH_METHOD: "trust"

# https://hub.docker.com/r/clickhouse/clickhouse-server/
clickhouse:
  image: clickhouse/clickhouse-server:23.8
  links:
    - postgresql

# https://github.com/Shopify/toxiproxy/pkgs/container/toxiproxy
toxiproxy:
  image: zhicwu/toxiproxy:2.7.0
  links:
    - clickhouse
